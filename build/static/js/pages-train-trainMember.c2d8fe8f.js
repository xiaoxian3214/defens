(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-train-trainMember"],{1154:function(t,e,i){"use strict";i.r(e);var a=i("7507"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"47d4":function(t,e,i){var a=i("9edd");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("afd7c26e",a,!0,{sourceMap:!1,shadowMode:!1})},7507:function(t,e,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d3b7"),i("159b"),i("e9c4");var n=a(i("6a89")),s=a(i("a2cb")),o={components:{timePop:n.default,popSelect:s.default},data:function(){return{roleId:uni.getStorageSync("roleId"),id:"",createUserId:"",planId:"",teamId:"",trainingSubjects:[],accountByRoleList:[],form:{},showGath:!1}},onLoad:function(t){var e=this.$mp.page.route;this.$myMD.userReporting(e,"训练计划发布与管理"),this.planId=t.planId||"",this.teamId=t.teamId||"",t.id&&(this.id=t.id||"",this.detail())},onShow:function(){this.form=this.$store.state.trainForm,this.$store.state.memberList&&(this.form.list=this.$store.state.memberList),this.$forceUpdate()},methods:{goMemberSelect:function(){this.$store.commit("trainFormChang",this.form),uni.navigateTo({url:"../../components/memberSelect?id="+this.teamId})},gatherSelect:function(){this.form.list&&this.form.list.length>0?this.showGath=!0:this.$uToast.show("请先选择参训队员","error")},confirmGath:function(t){this.form.gatherPersonId=t[0].value,this.form.gatherPersonName=t[0].label},trainCon:function(){var t=[];this.form.list&&this.form.list.length>0&&this.form.list.forEach((function(e){t.push({id:e.id,name:e.name})})),this.form.professionalTeamPersonInformationList=JSON.stringify(t),this.add(this.form)},add:function(t){var e=this;this.$Api.updatePersonList(t).then((function(t){200==t.code?(e.$uToast.show("编辑成功","success"),uni.navigateBack()):e.$uToast.show(t.message,"error")}))},detail:function(){var t=this;this.$Api.trainingDetail({id:this.id}).then((function(e){200==e.code&&(t.form.list=e.data.list,t.form.gatherPersonId=e.data.gatherPersonId,t.form.gatherPersonName=e.data.gatherPersonName,t.form.numberPerson=e.data.numberPerson,t.form.teamId=t.teamId||e.data.professionalTeamId,t.form.planId=t.planId||e.data.planId,t.$forceUpdate())}))}}};e.default=o},"8e7a":function(t,e,i){"use strict";var a=i("47d4"),n=i.n(a);n.a},"987e":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={uSelect:i("4c05").default,uGap:i("3ad8").default,uButton:i("d9ad").default,uToast:i("8e48").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"train"},[a("v-uni-view",{staticClass:"detailUl"},[a("v-uni-view",{staticClass:"detailUlLi",staticStyle:{"border-bottom":"none"}},[a("v-uni-view",{staticClass:"detailUlLiL"},[a("v-uni-text",{staticClass:"redTs"},[t._v("*")]),t._v("参训人数")],1),a("v-uni-view",{staticClass:"detailUlLiR flexCenter"},[a("v-uni-view",{staticClass:"iulRtex iulRtexColAct"},[t._v(t._s(t.form.numberPerson?t.form.numberPerson:0))])],1)],1)],1),a("v-uni-view",{staticClass:"detailUl"},[a("v-uni-view",{staticClass:"detailUlLi",staticStyle:{"border-bottom":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goMemberSelect.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"detailUlLiL"},[a("v-uni-text",{staticClass:"redTs"},[t._v("*")]),t._v("参训队员")],1),a("v-uni-view",{staticClass:"detailUlLiR flexCenter"},[a("v-uni-view",{staticClass:"iulRtex",class:t.form.list&&t.form.list.length>0?"iulRtexColAct":"iulRtexCol"},[t._v(t._s(t.form.list&&t.form.list.length>0?"":"请选择"))]),a("v-uni-image",{staticClass:"iulRrig",attrs:{src:i("136d"),mode:""}})],1)],1),a("v-uni-view",{staticClass:"deUlLimember flexCenter"},t._l(t.form.list,(function(e,i){return a("v-uni-text",{key:i,staticClass:"deUlLimeText"},[t._v(t._s(e.name))])})),1)],1),a("v-uni-view",{staticClass:"detailUl"},[a("v-uni-view",{staticClass:"detailUlLi",staticStyle:{"border-bottom":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gatherSelect.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"detailUlLiL"},[a("v-uni-text",{staticClass:"redTs"},[t._v("*")]),t._v("队长（视频采集人员）")],1),a("v-uni-view",{staticClass:"detailUlLiR flexCenter"},[a("v-uni-view",{staticClass:"iulRtex",class:t.form.gatherPersonName?"iulRtexColAct":"iulRtexCol"},[t._v(t._s(t.form.gatherPersonName?t.form.gatherPersonName:"请选择"))]),a("v-uni-image",{staticClass:"iulRrig",attrs:{src:i("136d"),mode:""}})],1),a("u-select",{attrs:{list:t.form.list,"label-name":"name","value-name":"id"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmGath.apply(void 0,arguments)}},model:{value:t.showGath,callback:function(e){t.showGath=e},expression:"showGath"}})],1)],1),a("u-gap",{attrs:{height:"16","bg-color":"#FAFAFA"}}),a("u-button",{staticClass:"addDeter",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.trainCon.apply(void 0,arguments)}}},[t._v("确定")]),a("u-toast",{ref:"uToast"})],1)},s=[]},"9edd":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.train[data-v-11bd6a10]{padding-bottom:%?120?%}.train .addList[data-v-11bd6a10]{width:%?276?%;height:%?72?%;border-radius:%?8?%;border:%?2?% solid #007aff;font-size:%?28?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#007aff;display:flex;align-items:center;justify-content:center;margin:%?34?% auto 0}.train .addList .addListImg[data-v-11bd6a10]{width:%?32?%;height:%?32?%;margin-right:%?20?%}',""]),t.exports=e},"9f82":function(t,e,i){"use strict";i.r(e);var a=i("987e"),n=i("1154");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("8e7a");var o,r=i("f0c5"),l=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"11bd6a10",null,!1,a["a"],o);e["default"]=l.exports}}]);